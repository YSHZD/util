<!-- <!DOCTYPE html>
<html>
<head>
	<title></title>
	<style>
		.sideBar{
			position: fixed;
			width: 300px;
			top: 0;
			left: 0;
			overflow-y: auto;
		}
		.content{
			float: right;
			margin-left: 500px;
			height: 700px;
			padding-bottom: 700px;
			box-sizing: border-box;
			overflow-y: auto
		}
		.content p{
			margin-bottom: 20px;
			font-size: 12px;
			line-height: 2;
		}
		.active,.active a{
			color: #009a61;
		}
		.act{
			position: absolute;
			top: 0;
			left: 0;
			height: 30px;
			right: 0;
			background: pink;
			transition: all 0.4s ease;
		}
		.bar{position: relative;z-index:2;margin:0;}
		li{
			height: 30px;
			line-height: 30px;
		}
		li a{
			display: inline-block;
			height: 30px;
			line-height: 30px;
			width: 100%;
		}
	</style>
</head>
<body>
<div class="sideBar">
<div  class="act"></div>
<ul class="bar">
	<li><a href="#item0">item0</a></li>
	<li><a href="#item1">item1</a></li>
	<li><a href="#item2">item2</a></li>
	<li><a href="#item3">item3</a></li>
</ul>
</div>
<div class="content">
<p id="item0">item0中国梦，是中国共产党第十八次全国代表大会召开以来 [1]  ，习近平总书记所提出的重要指导思想和重要执政理念，正式提出于2012年11月29日。习总书记把“中国梦”定义为“实现中华民族伟大复兴，就是中华民族近代以来最伟大梦想”，并且表示这个梦“一定能实现”。“中国梦”的核心目标也可以概括为“两个一百年”的目标，也就是：到2021年中国共产党成立100周年和2049年中华人民共和国成立100周年时，逐步并最终顺利实现中华民族的伟大复兴，具体表现是国家富强、民族振兴、人民幸福，实现途径是走中国特色的社会主义道路、坚持中国特色社会主义理论体系、弘扬民族精神、凝聚中国力量，实施手段是政治、经济、文化、社会、生态文明五位一体建设。
2017年10月18日，习近平同志在十九大报告中指出，实现中华民族伟大复兴是近代以来中华民族最伟大的梦想。中国共产党一经成立，就把实现共产主义作为党的最高理想和最终目标，义无反顾肩负起实现中华民族伟大复兴的历史使命，团结带领人民进行了艰苦卓绝的斗争，谱写了气吞山河的壮丽史诗。习近平指出，实现伟大梦想，必须进行伟大斗争；必须建设伟大工程；必须推进伟大事业。</p>
<p id="item1">item1中国梦，是中国共产党第十八次全国代表大会召开以来 [1]  ，习近平总书记所提出的重要指导思想和重要执政理念，正式提出于2012年11月29日。习总书记把“中国梦”定义为“实现中华民族伟大复兴，就是中华民族近代以来最伟大梦想”，并且表示这个梦“一定能实现”。“中国梦”的核心目标也可以概括为“两个一百年”的目标，也就是：到2021年中国共产党成立100周年和2049年中华人民共和国成立100周年时，逐步并最终顺利实现中华民族的伟大复兴，具体表现是国家富强、民族振兴、人民幸福，实现途径是走中国特色的社会主义道路、坚持中国特色社会主义理论体系、弘扬民族精神、凝聚中国力量，实施手段是政治、经济、文化、社会、生态文明五位一体建设。
2017年10月18日，习近平同志在十九大报告中指出，实现中华民族伟大复兴是近代以来中华民族最伟大的梦想。中国共产党一经成立，就把实现共产主义作为党的最高理想和最终目标，义无反顾肩负起实现中华民族伟大复兴的历史使命，团结带领人民进行了艰苦卓绝的斗争，谱写了气吞山河的壮丽史诗。习近平指出，实现伟大梦想，必须进行伟大斗争；必须建设伟大工程；必须推进伟大事业。</p>
<p id="item2">item2中国梦，是中国共产党第十八次全国代表大会召开以来 [1]  ，习近平总书记所提出的重要指导思想和重要执政理念，正式提出于2012年11月29日。习总书记把“中国梦”定义为“实现中华民族伟大复兴，就是中华民族近代以来最伟大梦想”，并且表示这个梦“一定能实现”。“中国梦”的核心目标也可以概括为“两个一百年”的目标，也就是：到2021年中国共产党成立100周年和2049年中华人民共和国成立100周年时，逐步并最终顺利实现中华民族的伟大复兴，具体表现是国家富强、民族振兴、人民幸福，实现途径是走中国特色的社会主义道路、坚持中国特色社会主义理论体系、弘扬民族精神、凝聚中国力量，实施手段是政治、经济、文化、社会、生态文明五位一体建设。
2017年10月18日，习近平同志在十九大报告中指出，实现中华民族伟大复兴是近代以来中华民族最伟大的梦想。中国共产党一经成立，就把实现共产主义作为党的最高理想和最终目标，义无反顾肩负起实现中华民族伟大复兴的历史使命，团结带领人民进行了艰苦卓绝的斗争，谱写了气吞山河的壮丽史诗。习近平指出，实现伟大梦想，必须进行伟大斗争；必须建设伟大工程；必须推进伟大事业。</p>
<p id="item3">item3中国梦，是中国共产党第十八次全国代表大会召开以来 [1]  ，习近平总书记所提出的重要指导思想和重要执政理念，正式提出于2012年11月29日。习总书记把“中国梦”定义为“实现中华民族伟大复兴，就是中华民族近代以来最伟大梦想”，并且表示这个梦“一定能实现”。“中国梦”的核心目标也可以概括为“两个一百年”的目标，也就是：到2021年中国共产党成立100周年和2049年中华人民共和国成立100周年时，逐步并最终顺利实现中华民族的伟大复兴，具体表现是国家富强、民族振兴、人民幸福，实现途径是走中国特色的社会主义道路、坚持中国特色社会主义理论体系、弘扬民族精神、凝聚中国力量，实施手段是政治、经济、文化、社会、生态文明五位一体建设。
2017年10月18日，习近平同志在十九大报告中指出，实现中华民族伟大复兴是近代以来中华民族最伟大的梦想。中国共产党一经成立，就把实现共产主义作为党的最高理想和最终目标，义无反顾肩负起实现中华民族伟大复兴的历史使命，团结带领人民进行了艰苦卓绝的斗争，谱写了气吞山河的壮丽史诗。习近平指出，实现伟大梦想，必须进行伟大斗争；必须建设伟大工程；必须推进伟大事业。</p>

</div>
</body>
<script>
	var KEY = 0;
	var bar = document.querySelector(".bar");
	var lis = document.querySelectorAll(".bar li");
	var alist = document.querySelectorAll(".bar a");
	var time = 0;
	bar.onclick = function (ev){
		var ev = ev || window.event;
		var target = ev.target || ev.srcElement;
		if(target.nodeName.toLowerCase() == 'a'){
			for(var i = 0; i < lis.length; i++){
				if(target == alist[i]){
					document.querySelector('.act').style.top = (i)*30+'px'
				}
				lis[i].classList.remove("active");
			}
			//console.log(target)
			target.parentNode.classList.add("active")
		}
	}
	function timeGo(key){
		KEY = key;
		go.before(
			function(){time = new Date().getTime()}
		).after(
		function(){console.log(new Date().getTime() - time)}
		)()
	}

	function go(){
		document.querySelector('.act').style.top = (KEY)*30+'px';
		for(var i = 0; i < lis.length; i++){
				lis[i].classList.remove("active");
				if(i == KEY){
					lis[i].classList.add("active");
				}
			}
		//for(var i = 0; i < Math.random()*10000000000000000;i++){}
	}
	document.querySelector(".content").onscroll = function(){
		var scrollTop = document.querySelector(".content").scrollTop;
		/*console.log('scrollTop=='+scrollTop)
		console.log(document.querySelector("#item0").offsetTop)
		console.log(document.querySelector("#item1").offsetTop)
		console.log(document.querySelector("#item2").offsetTop)
		console.log(document.querySelector("#item3").offsetTop)*/
		for(var i = 0; i < 4; i++){
			var before = document.querySelector("#item"+i).offsetTop;
			if( i < 3 && before < scrollTop+50 && document.querySelector("#item"+(i+1)).offsetTop > scrollTop +50){
				timeGo(i)
			}else if(before < scrollTop+50){
				timeGo(i)
			}
		}
		
	}
	
	Function.prototype.before = function(fn){
		var that = this;
		return function(){
			fn && fn();
			that()
		}
		
	}
	Function.prototype.after = function(fn){
		var that = this;
		return function(){
			that();
			fn && fn();
		}
	}


</script>


</html> -->

<script>
	/*function order500(orderType,isPay,count){
		if(orderType == 1 && isPay){
			console.log("亲爱的用户，您中奖了100元红包了");
		}else{
			return "nextSuccessor";
		}
	}
	function order200(orderType,isPay,count){
		if(orderType == 2 && isPay){
			console.log("亲爱的用户，您中奖了20元红包了");
		}else{
			return "nextSuccessor";
		}
	}
	function orderNormal(orderType,isPay,count){
	    if(count > 0) {
	        console.log("亲爱的用户，您已抽到10元优惠卷");
	    }else {
	        console.log("亲爱的用户，请再接再厉哦");
	    }
	}
    var Chain = function(fn){
    	this.fn = fn;
    	this.successor = null;
    }
    Chain.prototype.setNextSuccessor = function(successor){debugger
    	return this.successor = successor;
    }
    Chain.prototype.passRequest = function(){debugger
    	var result = this.fn.apply(this,arguments);
    	if(result == 'nextSuccessor'){
    		return this.successor && this.successor.passRequest.apply(this.successor,arguments)
    	}
    	return result;
    }

    var chainOrder500 = new Chain(order500);
    var chainOrder200 = new Chain(order200);
    var orderNormal = new Chain(orderNormal);
	chainOrder500.setNextSuccessor(chainOrder200);
	chainOrder200.setNextSuccessor(orderNormal);

	chainOrder500.passRequest(1,true,500)
	chainOrder500.passRequest(2,true,200)
	chainOrder500.passRequest(3,true,100)*/











/*一等奖->二等奖->三等奖->四等奖->谢谢
type  1     2     3      4        5
isUse false 才可用
count > 0才可用*/
	function  prizeA(type,isUse,count){
		if(type == 1 && !isUse && count>0){
			console.log('zhong1000')
			return 1000;
		}else{
			return 'next'
		}
	}
	function  prizeB(type,isUse,count){
		if(type == 2 && !isUse && count>0){
			console.log('zhong500')
			return 500;
		}else{
			return 'next'
		}
	}
	function  prizeC(type,isUse,count){
		if(type == 3 && !isUse && count>0){
			console.log('zhong200')
			return 200;
		}else{
			return 'next'
		}
	}
	function  prizeD(type,isUse,count){
		if(type == 4 && !isUse && count>0){
			console.log('zhong100')
			return 100;
		}else{
			return 'next'
		}
	}
	function  prize(type,isUse,count){
		if(!isUse && count>0){
			console.log('zhong10')
			return 10;
		}else{
			console.log('谢谢参与')
			return '谢谢参与'
		}
	}

	var Chain = function(fn){
		this.fn = fn;
		this.nextChain = null;
	}
	Chain.prototype.setnextChain = function(nextChain){
		this.nextChain  = nextChain;
	}
	Chain.prototype.doIt = function(){
		var result = this.fn.apply(this,arguments);
		if(result == 'next'){
			return this.nextChain && this.nextChain.doIt.apply(this.nextChain,arguments)
		}else{
			return result;
		}
	}

	var prizeAChain = new Chain(prizeA);
	var prizeBChain = new Chain(prizeB);
	var prizeCChain = new Chain(prizeC);
	var prizeDChain = new Chain(prizeD);
	var prizeChain = new Chain(prize);

	prizeAChain.setnextChain(prizeBChain);
	prizeBChain.setnextChain(prizeCChain);
	prizeCChain.setnextChain(prizeDChain);
	prizeDChain.setnextChain(prizeChain);

	console.log(prizeAChain.doIt(1,false,2))
	console.log(prizeAChain.doIt(3,false,2))












































</script>